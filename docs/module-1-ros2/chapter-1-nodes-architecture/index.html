<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-1-ros2/chapter-1-nodes-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ROS 2 Nodes and Architecture | RoboBook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://NeelamGhazal.github.io/RoboBook/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://NeelamGhazal.github.io/RoboBook/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://NeelamGhazal.github.io/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ROS 2 Nodes and Architecture | RoboBook"><meta data-rh="true" name="description" content="Learning Objectives"><meta data-rh="true" property="og:description" content="Learning Objectives"><link data-rh="true" rel="icon" href="/RoboBook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://NeelamGhazal.github.io/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture"><link data-rh="true" rel="alternate" href="https://NeelamGhazal.github.io/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://NeelamGhazal.github.io/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 1: Nodes & Architecture","item":"https://NeelamGhazal.github.io/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture"}]}</script><link rel="alternate" type="application/rss+xml" href="/RoboBook/blog/rss.xml" title="RoboBook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/RoboBook/blog/atom.xml" title="RoboBook Atom Feed">




<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Audiowide&amp;family=Exo+2:wght@400;700&amp;display=swap"><link rel="stylesheet" href="/RoboBook/assets/css/styles.ae10dc68.css">
<script src="/RoboBook/assets/js/runtime~main.0c87af8e.js" defer="defer"></script>
<script src="/RoboBook/assets/js/main.6e4c0fc6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/RoboBook/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/RoboBook/"><div class="navbar__logo"><img src="/RoboBook/img/logo.svg" alt="RoboBook Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/RoboBook/img/logo.svg" alt="RoboBook Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">RoboBook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/RoboBook/docs/intro">Textbook</a><a class="navbar__item navbar__link" href="/RoboBook/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">üåê EN</a><ul class="dropdown__menu"><li><a href="#" class="dropdown__link active-language">English</a></li><li><a href="#" class="dropdown__link">ÿßÿ±ÿØŸà</a></li></ul></div><a href="https://github.com/NeelamGhazal/RoboBook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/RoboBook/docs/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture"><span title="Module 1: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Module 1: ROS 2 Fundamentals</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/RoboBook/docs/module-1-ros2/chapter-1-nodes-architecture"><span title="Chapter 1: Nodes &amp; Architecture" class="linkLabel_WmDU">Chapter 1: Nodes &amp; Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/RoboBook/docs/module-1-ros2/chapter-2-topics-pubsub"><span title="Chapter 2: Topics &amp; Pub/Sub" class="linkLabel_WmDU">Chapter 2: Topics &amp; Pub/Sub</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/RoboBook/docs/module-1-ros2/chapter-3-services-clients"><span title="Chapter 3: Services &amp; Clients" class="linkLabel_WmDU">Chapter 3: Services &amp; Clients</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/RoboBook/docs/module-1-ros2/chapter-4-rclpy-python-client"><span title="Chapter 4: rclpy Python Client" class="linkLabel_WmDU">Chapter 4: rclpy Python Client</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/RoboBook/docs/module-1-ros2/chapter-5-urdf-robot-description"><span title="Chapter 5: URDF Robot Description" class="linkLabel_WmDU">Chapter 5: URDF Robot Description</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/RoboBook/docs/module-2-simulation/chapter-1-simulation-intro"><span title="Module 2: Simulation (Gazebo &amp; Unity)" class="categoryLinkLabel_W154">Module 2: Simulation (Gazebo &amp; Unity)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/RoboBook/docs/module-3-isaac/chapter-1-isaac-overview"><span title="Module 3: NVIDIA Isaac Simulation" class="categoryLinkLabel_W154">Module 3: NVIDIA Isaac Simulation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/RoboBook/docs/module-4-vla/chapter-1-vla-introduction"><span title="Module 4: Vision-Language-Action (VLA) Models" class="categoryLinkLabel_W154">Module 4: Vision-Language-Action (VLA) Models</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/RoboBook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 1: ROS 2 Fundamentals</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 1: Nodes &amp; Architecture</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ROS 2 Nodes and Architecture</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives" translate="no">‚Äã</a></h2>
<p>By the end of this chapter, you will be able to:</p>
<ul>
<li class="">Explain the purpose and role of nodes in ROS 2 architecture</li>
<li class="">Implement a minimal ROS 2 node using the rclpy Python client library</li>
<li class="">Configure node parameters and understand the node lifecycle</li>
<li class="">Describe the relationship between nodes, topics, services, and actions</li>
<li class="">Analyze a node graph to understand system architecture</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-prerequisites">Knowledge Prerequisites<a href="#knowledge-prerequisites" class="hash-link" aria-label="Direct link to Knowledge Prerequisites" title="Direct link to Knowledge Prerequisites" translate="no">‚Äã</a></h3>
<ul>
<li class=""><strong>Python Programming</strong>: Basic understanding of classes, methods, and imports (covered in intro.md)</li>
<li class=""><strong>Command Line</strong>: Familiarity with terminal/bash commands for running ROS 2 nodes</li>
<li class=""><strong>Physical AI Concepts</strong>: Understanding of Physical AI fundamentals from Chapter 0 (intro.md)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="software-prerequisites">Software Prerequisites<a href="#software-prerequisites" class="hash-link" aria-label="Direct link to Software Prerequisites" title="Direct link to Software Prerequisites" translate="no">‚Äã</a></h3>
<ul>
<li class=""><strong>Operating System</strong>: Ubuntu 22.04 LTS with ROS 2 Humble Hawksbill installed</li>
<li class=""><strong>Python</strong>: Version 3.10 or higher (verified in intro.md)</li>
<li class=""><strong>Terminal</strong>: Bash shell access</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation-verification">Installation Verification<a href="#installation-verification" class="hash-link" aria-label="Direct link to Installation Verification" title="Direct link to Installation Verification" translate="no">‚Äã</a></h3>
<p>Verify your ROS 2 installation:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">source /opt/ros/humble/setup.bash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ros2 --version</span><br></span></code></pre></div></div>
<p>Expected output: <code>ros2 version X.X.X</code> (where X.X.X is the current version)</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">‚Äã</a></h2>
<p>In the previous chapter, we explored Physical AI as a field that bridges artificial intelligence and physical robotics. We learned that Physical AI systems must perceive their environment, reason about physics, plan and execute actions, operate in real-time, and handle uncertainty. Now we begin our journey into the technical implementation with ROS 2 (Robot Operating System 2), the middleware that connects all components of a Physical AI system.</p>
<p>Think of your body&#x27;s nervous system again: your brain communicates with your limbs through neural pathways, sending motor commands and receiving sensory feedback. In robotics, ROS 2 serves as the &quot;nervous system&quot;‚Äîit routes messages between different software components (nodes) that handle perception, planning, control, and action. Just as your nervous system allows your brain to control your arms without needing to understand the complex biomechanics of muscle fibers, ROS 2 allows high-level planning algorithms to control robot behavior without needing to understand the low-level hardware details.</p>
<p>ROS 2 nodes are the fundamental building blocks of robot software. Each node is an independent process that performs a specific computation: one node might process camera images to detect objects, another might plan robot motions, and a third might control the robot&#x27;s motors. Nodes communicate with each other through topics (publish-subscribe messaging), services (request-response patterns), and actions (goal-oriented communication with feedback). This modular architecture allows complex robot behaviors to emerge from simple, reusable components.</p>
<p>In this chapter, we&#x27;ll explore the foundational concept of ROS 2 nodes and understand how they form the backbone of any Physical AI system. We&#x27;ll implement our first ROS 2 node, examine its internal structure, and learn how to configure and run it.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="theory">Theory<a href="#theory" class="hash-link" aria-label="Direct link to Theory" title="Direct link to Theory" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-a-ros-2-node">What is a ROS 2 Node?<a href="#what-is-a-ros-2-node" class="hash-link" aria-label="Direct link to What is a ROS 2 Node?" title="Direct link to What is a ROS 2 Node?" translate="no">‚Äã</a></h3>
<p>A ROS 2 node is an independent process that performs computation in a robot system. Nodes are the fundamental building blocks of ROS 2 architecture and serve as containers for:</p>
<ul>
<li class=""><strong>Publishers</strong>: Send messages to topics</li>
<li class=""><strong>Subscribers</strong>: Receive messages from topics</li>
<li class=""><strong>Services</strong>: Provide request-response functionality</li>
<li class=""><strong>Actions</strong>: Implement goal-oriented communication</li>
<li class=""><strong>Parameters</strong>: Store configuration values</li>
<li class=""><strong>Timers</strong>: Execute callbacks at specific intervals</li>
<li class=""><strong>TF broadcasters/listeners</strong>: Handle coordinate frame transformations</li>
</ul>
<p>Nodes are designed to be modular and reusable. A node that processes camera images can be used with any robot that has a camera. A node that controls a differential drive base can be used with any wheeled robot. This modularity allows robot systems to be built by connecting pre-built nodes like LEGO blocks.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="node-architecture-and-lifecycle">Node Architecture and Lifecycle<a href="#node-architecture-and-lifecycle" class="hash-link" aria-label="Direct link to Node Architecture and Lifecycle" title="Direct link to Node Architecture and Lifecycle" translate="no">‚Äã</a></h3>
<p>Each ROS 2 node follows a specific lifecycle pattern:</p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">%%{title: &quot;ROS 2 Node Lifecycle&quot;}%%</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    A[Unconfigured] --&gt; B[Configuring]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B --&gt; C[Inactive]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C --&gt; D[Activating]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    D --&gt; E[Active]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    E --&gt; F[Deactivating]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F --&gt; G[Inactive]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    G --&gt; H[Cleaning Up]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    H --&gt; I[Unconfigured]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    E --&gt; J[Error Processing]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    J --&gt; K[Unconfigured]</span><br></span></code></pre></div></div>
<p>In practice, most simple nodes skip the full lifecycle and remain in the &quot;Active&quot; state throughout their execution. The lifecycle provides a way to manage resources and ensure proper initialization and shutdown, which is critical for safety in Physical AI systems.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="node-communication-patterns">Node Communication Patterns<a href="#node-communication-patterns" class="hash-link" aria-label="Direct link to Node Communication Patterns" title="Direct link to Node Communication Patterns" translate="no">‚Äã</a></h3>
<p>ROS 2 nodes communicate through three primary patterns:</p>
<ol>
<li class="">
<p><strong>Topics (Publish-Subscribe)</strong>: Asynchronous, one-to-many communication</p>
<ul>
<li class="">Publishers send messages to topics without knowing who receives them</li>
<li class="">Subscribers receive messages from topics without knowing who sent them</li>
<li class="">Example: Camera node publishes images to <code>/camera/image_raw</code> topic</li>
</ul>
</li>
<li class="">
<p><strong>Services (Request-Response)</strong>: Synchronous, one-to-one communication</p>
<ul>
<li class="">Client sends a request and waits for a response</li>
<li class="">Server processes the request and sends a response</li>
<li class="">Example: Navigation node requests a path from a path-planning service</li>
</ul>
</li>
<li class="">
<p><strong>Actions (Goal-Feedback-Result)</strong>: Asynchronous, goal-oriented communication</p>
<ul>
<li class="">Client sends a goal and receives feedback during execution</li>
<li class="">Server executes the goal and sends final result</li>
<li class="">Example: Move robot to a specific location with progress feedback</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-node-graph">The Node Graph<a href="#the-node-graph" class="hash-link" aria-label="Direct link to The Node Graph" title="Direct link to The Node Graph" translate="no">‚Äã</a></h3>
<p>The collection of all nodes and their communication relationships forms the &quot;node graph.&quot; A typical Physical AI system might have this structure:</p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">%%{title: &quot;Physical AI Node Graph&quot;}%%</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">graph LR</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subgraph Perception</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        CAM[&quot;camera_driver (publishes /camera/image_raw)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        LIDAR[&quot;lidar_driver (publishes /scan)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        IMU[&quot;imu_driver (publishes /imu/data)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subgraph Processing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        VISION[&quot;object_detection (sub: /camera/image_raw, pub: /objects)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        LOCAL[&quot;localization (sub: /scan, /imu/data, pub: /pose)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        PLAN[&quot;motion_planning (sub: /pose, /objects, pub: /trajectory)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subgraph Action</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        CTRL[&quot;controller (sub: /trajectory, pub: /cmd_vel)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MOTOR[&quot;motor_driver (sub: /cmd_vel, controls hardware)&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CAM --&gt; VISION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    LIDAR --&gt; LOCAL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    IMU --&gt; LOCAL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    VISION --&gt; PLAN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    LOCAL --&gt; PLAN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    PLAN --&gt; CTRL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CTRL --&gt; MOTOR</span><br></span></code></pre></div></div>
<p>This architecture allows each component to focus on its specific task while communicating with other components through well-defined interfaces. The modularity makes the system easier to debug, test, and maintain.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-nodes-matter-for-physical-ai">Why Nodes Matter for Physical AI<a href="#why-nodes-matter-for-physical-ai" class="hash-link" aria-label="Direct link to Why Nodes Matter for Physical AI" title="Direct link to Why Nodes Matter for Physical AI" translate="no">‚Äã</a></h3>
<p>Nodes are particularly important for Physical AI systems because they:</p>
<ol>
<li class=""><strong>Enable parallel processing</strong>: Different computational tasks can run in parallel on different nodes</li>
<li class=""><strong>Provide fault isolation</strong>: If one node fails, others can continue operating</li>
<li class=""><strong>Support distributed computing</strong>: Nodes can run on different computers and still communicate</li>
<li class=""><strong>Allow resource management</strong>: Different nodes can be assigned different priorities and resources</li>
<li class=""><strong>Facilitate testing</strong>: Individual nodes can be tested in isolation before integration</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="code-examples">Code Examples<a href="#code-examples" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples" translate="no">‚Äã</a></h2>
<p>Let&#x27;s implement our first ROS 2 node. This minimal node will demonstrate the basic structure and initialization pattern:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">node </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">MinimalNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Minimal ROS 2 node demonstrating basic structure.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    This node initializes and logs a startup message.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Initialize the parent Node class with a node name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;minimal_node&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Log a message to indicate successful initialization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Minimal node initialized successfully&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Store a simple counter for demonstration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">counter </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Create a timer that calls a callback every 1.0 seconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timer </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">create_timer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timer_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Timer created, node ready to execute callbacks&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">timer_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Callback function called by the timer every 1.0 seconds.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">counter </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Callback executed </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">counter</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"> times&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Main entry point for the ROS 2 node.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Initializes ROS 2, creates the node, and starts spinning.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Initialize the ROS 2 client library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Create an instance of our node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    minimal_node </span><span class="token operator">=</span><span class="token plain"> MinimalNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Log that the node is ready to execute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    minimal_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Starting node execution...&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Start the spinning loop - this keeps the node running</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># and processes callbacks, messages, and services</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minimal_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> KeyboardInterrupt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Handle graceful shutdown when Ctrl+C is pressed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        minimal_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Interrupt received, shutting down...&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Clean up resources when exiting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        minimal_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">destroy_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;__main__&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Expected Output:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Minimal node initialized successfully</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Timer created, node ready to execute callbacks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Starting node execution...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Callback executed 1 times</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Callback executed 2 times</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Callback executed 3 times</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Callback executed 4 times</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">^C[INFO] [minimal_node]: Interrupt received, shutting down...</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-the-node">Running the Node<a href="#running-the-node" class="hash-link" aria-label="Direct link to Running the Node" title="Direct link to Running the Node" translate="no">‚Äã</a></h3>
<p>To run this node, save it as <code>minimal_node.py</code> and execute:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Source ROS 2 setup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">source /opt/ros/humble/setup.bash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Run the node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">python3 minimal_node.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-structure">Understanding the Structure<a href="#understanding-the-structure" class="hash-link" aria-label="Direct link to Understanding the Structure" title="Direct link to Understanding the Structure" translate="no">‚Äã</a></h3>
<ol>
<li class=""><strong>Node Class</strong>: Inherits from <code>rclpy.node.Node</code> to get ROS 2 functionality</li>
<li class=""><strong>Initialization</strong>: <code>super().__init__(&#x27;minimal_node&#x27;)</code> registers the node with ROS 2</li>
<li class=""><strong>Logging</strong>: <code>self.get_logger().info()</code> provides debug information</li>
<li class=""><strong>Timer</strong>: <code>self.create_timer()</code> creates a periodic callback execution</li>
<li class=""><strong>Main Function</strong>: Handles ROS 2 initialization, node creation, and spinning</li>
<li class=""><strong>Graceful Shutdown</strong>: Try-finally block ensures proper cleanup</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercise-1-node-customization">Exercise 1: Node Customization<a href="#exercise-1-node-customization" class="hash-link" aria-label="Direct link to Exercise 1: Node Customization" title="Direct link to Exercise 1: Node Customization" translate="no">‚Äã</a></h3>
<p><strong>Task</strong>: Modify the minimal node to include a parameter for the timer interval.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li class="">Add a parameter declaration in the <code>__init__</code> method: <code>self.declare_parameter(&#x27;timer_period&#x27;, 1.0)</code></li>
<li class="">Use the parameter value instead of the hardcoded 1.0 seconds: <code>self.get_parameter(&#x27;timer_period&#x27;).value</code></li>
<li class="">Run the node with a custom parameter: <code>ros2 run my_package minimal_node --ros-args -p timer_period:=2.0</code></li>
</ol>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li class="">Node accepts a timer_period parameter</li>
<li class="">Timer executes at the specified interval</li>
<li class="">Default value is 1.0 seconds if parameter not provided</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercise-2-node-graph-visualization">Exercise 2: Node Graph Visualization<a href="#exercise-2-node-graph-visualization" class="hash-link" aria-label="Direct link to Exercise 2: Node Graph Visualization" title="Direct link to Exercise 2: Node Graph Visualization" translate="no">‚Äã</a></h3>
<p><strong>Task</strong>: Create and run multiple instances of the minimal node to understand how nodes appear in the ROS 2 graph.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li class="">Create two separate Python files with nodes having different names</li>
<li class="">Run both nodes simultaneously in different terminals</li>
<li class="">In a third terminal, run: <code>ros2 node list</code> to see all active nodes</li>
<li class="">Run: <code>ros2 run rqt_graph rqt_graph</code> to visualize the node graph</li>
</ol>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li class="">Multiple nodes appear in the node list</li>
<li class="">rqt_graph shows the node relationships</li>
<li class="">You can distinguish between different node instances</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercise-3-parameter-configuration">Exercise 3: Parameter Configuration<a href="#exercise-3-parameter-configuration" class="hash-link" aria-label="Direct link to Exercise 3: Parameter Configuration" title="Direct link to Exercise 3: Parameter Configuration" translate="no">‚Äã</a></h3>
<p><strong>Task</strong>: Create a node that accepts multiple parameters for customization.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li class="">Declare parameters for node name prefix, timer interval, and message content</li>
<li class="">Use these parameters to customize the node&#x27;s behavior</li>
<li class="">Create a YAML configuration file with parameter values</li>
<li class="">Launch the node with the configuration file</li>
</ol>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li class="">Node behavior changes based on parameters</li>
<li class="">Configuration file successfully loads parameter values</li>
<li class="">Node operates correctly with different parameter sets</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">‚Äã</a></h2>
<p>ROS 2 nodes form the foundation of any Physical AI system. They provide a modular, distributed architecture that enables complex robot behaviors through the interaction of simple, focused components. Each node performs a specific computational task and communicates with other nodes through topics, services, and actions.</p>
<p>We&#x27;ve learned that nodes follow a specific lifecycle, can be configured with parameters, and form a graph structure when multiple nodes interact. The minimal node example demonstrated the essential structure: inheriting from Node, initializing with a name, creating timers or subscribers, and implementing the main execution loop with rclpy.spin().</p>
<p>Understanding nodes is crucial because they provide the structure for all other ROS 2 concepts: topics, services, actions, parameters, and TF transforms all exist within the context of nodes. The modular architecture of nodes enables Physical AI systems to scale from simple single-robot applications to complex multi-robot systems.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">‚Äã</a></h2>
<p>Now that you understand the fundamental concept of ROS 2 nodes, the next chapter explores the publish-subscribe communication pattern through topics. You&#x27;ll learn how nodes communicate by publishing data to topics and subscribing to receive data from topics, enabling the distributed sensing and control that Physical AI systems require.</p>
<p><strong>Next Chapter</strong>: <a class="" href="/RoboBook/docs/module-1-ros2/chapter-2-topics-pubsub">Module 1, Chapter 2: Topics and Publishers/Subscribers</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/NeelamGhazal/RoboBook/tree/main/docs/module-1-ros2/chapter-1-nodes-architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/RoboBook/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/RoboBook/docs/module-1-ros2/chapter-2-topics-pubsub"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 2: Topics &amp; Pub/Sub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#knowledge-prerequisites" class="table-of-contents__link toc-highlight">Knowledge Prerequisites</a></li><li><a href="#software-prerequisites" class="table-of-contents__link toc-highlight">Software Prerequisites</a></li><li><a href="#installation-verification" class="table-of-contents__link toc-highlight">Installation Verification</a></li></ul></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#theory" class="table-of-contents__link toc-highlight">Theory</a><ul><li><a href="#what-is-a-ros-2-node" class="table-of-contents__link toc-highlight">What is a ROS 2 Node?</a></li><li><a href="#node-architecture-and-lifecycle" class="table-of-contents__link toc-highlight">Node Architecture and Lifecycle</a></li><li><a href="#node-communication-patterns" class="table-of-contents__link toc-highlight">Node Communication Patterns</a></li><li><a href="#the-node-graph" class="table-of-contents__link toc-highlight">The Node Graph</a></li><li><a href="#why-nodes-matter-for-physical-ai" class="table-of-contents__link toc-highlight">Why Nodes Matter for Physical AI</a></li></ul></li><li><a href="#code-examples" class="table-of-contents__link toc-highlight">Code Examples</a><ul><li><a href="#running-the-node" class="table-of-contents__link toc-highlight">Running the Node</a></li><li><a href="#understanding-the-structure" class="table-of-contents__link toc-highlight">Understanding the Structure</a></li></ul></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a><ul><li><a href="#exercise-1-node-customization" class="table-of-contents__link toc-highlight">Exercise 1: Node Customization</a></li><li><a href="#exercise-2-node-graph-visualization" class="table-of-contents__link toc-highlight">Exercise 2: Node Graph Visualization</a></li><li><a href="#exercise-3-parameter-configuration" class="table-of-contents__link toc-highlight">Exercise 3: Parameter Configuration</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/RoboBook/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/RoboBook/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/NeelamGhazal/RoboBook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 RoboBook, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>